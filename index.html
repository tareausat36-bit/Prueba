<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Â¡Feliz AÃ±o Nuevo!</title>
<style>
  :root{
    --bg1:#070018;
    --bg2:#0b2a6b;
    --bg3:#3b0a5a;
    --glow: 0 0 18px rgba(255,255,255,.35), 0 0 48px rgba(140,180,255,.25);
  }
  html,body{height:100%}
  body{
    margin:0;
    overflow:hidden;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color:#fff;
    background: radial-gradient(1200px 800px at 20% 20%, #1a0b5a 0%, transparent 55%),
                radial-gradient(1100px 700px at 80% 30%, #0a3c7a 0%, transparent 55%),
                linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));
    animation: bgshift 10s ease-in-out infinite alternate;
  }
  @keyframes bgshift{
    from{ filter:hue-rotate(0deg) saturate(1.05) }
    to{ filter:hue-rotate(25deg) saturate(1.25) }
  }

  canvas{ position:fixed; inset:0; width:100%; height:100%; }

  .ui{
    position:fixed;
    inset:0;
    display:grid;
    place-items:center;
    pointer-events:none;
    text-align:center;
    padding:24px;
  }

  .badge{
    display:inline-flex;
    gap:10px;
    align-items:center;
    justify-content:center;
    padding:10px 16px;
    border-radius:999px;
    background: rgba(255,255,255,.08);
    border: 1px solid rgba(255,255,255,.18);
    backdrop-filter: blur(10px);
    box-shadow: 0 18px 50px rgba(0,0,0,.28);
    margin-bottom:14px;
    font-size:13px;
    letter-spacing:.3px;
    opacity:.95;
  }
  .badge .dot{
    width:8px;height:8px;border-radius:50%;
    background: #7cf7ff;
    box-shadow: 0 0 18px rgba(124,247,255,.9);
  }

  h1{
    margin:0;
    font-size: clamp(34px, 5.2vw, 78px);
    line-height:1.05;
    letter-spacing: .5px;
    text-shadow: var(--glow);
  }
  .year{
    display:inline-block;
    margin-top:10px;
    font-size: clamp(22px, 3vw, 44px);
    font-weight:700;
    letter-spacing: 6px;
    text-transform: uppercase;
    opacity:.95;
    text-shadow: var(--glow);
  }

  .sub{
    margin-top:14px;
    font-size: clamp(13px, 1.5vw, 18px);
    opacity:.82;
    max-width: 780px;
    margin-left:auto;
    margin-right:auto;
  }

  .hint{
    position:fixed;
    left:16px;
    bottom:14px;
    font-size:12px;
    opacity:.7;
    background: rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.14);
    padding:8px 10px;
    border-radius:10px;
    backdrop-filter: blur(8px);
    pointer-events:none;
  }

  /* brillo suave detrÃ¡s del tÃ­tulo */
  .glow{
    position:absolute;
    width:min(720px, 90vw);
    height:min(720px, 90vw);
    border-radius:50%;
    background: radial-gradient(circle at 50% 50%, rgba(255,255,255,.10), transparent 62%);
    filter: blur(2px);
    transform: translateY(-10px);
    z-index:-1;
  }
</style>
</head>
<body>
<canvas id="stars"></canvas>
<canvas id="fx"></canvas>

<div class="ui">
  <div class="glow"></div>
  <div>
    <div class="badge"><span class="dot"></span> Mensaje de bienvenida</div>
    <h1>Â¡Feliz AÃ±o Nuevo!</h1>
    <div class="year">2026</div>
    <div class="sub">Que este aÃ±o venga con salud, trabajo, amor y muchas metas cumplidas. âœ¨</div>
  </div>
</div>

<div class="hint">Tip: toca/clic para lanzar mÃ¡s fuegos ðŸŽ†</div>

<script>
/* ====== Canvas helpers (HiDPI) ====== */
function setupCanvas(c){
  const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
  const rect = c.getBoundingClientRect();
  c.width  = Math.floor(rect.width  * dpr);
  c.height = Math.floor(rect.height * dpr);
  const ctx = c.getContext('2d');
  ctx.setTransform(dpr,0,0,dpr,0,0);
  return ctx;
}

const starsC = document.getElementById('stars');
const fxC    = document.getElementById('fx');
let sctx = setupCanvas(starsC);
let fctx = setupCanvas(fxC);

function resize(){
  sctx = setupCanvas(starsC);
  fctx = setupCanvas(fxC);
  initStars();
}
window.addEventListener('resize', resize);

/* ====== Stars / Particles background ====== */
let stars = [];
function initStars(){
  const w = starsC.getBoundingClientRect().width;
  const h = starsC.getBoundingClientRect().height;
  const n = Math.floor((w*h)/14000); // densidad suave
  stars = Array.from({length:n}, () => ({
    x: Math.random()*w,
    y: Math.random()*h,
    r: Math.random()*1.6 + 0.2,
    a: Math.random()*0.8 + 0.15,
    tw: Math.random()*0.02 + 0.005,
    vx: (Math.random()-0.5)*0.08,
    vy: (Math.random()-0.5)*0.06
  }));
}
initStars();

function drawStars(){
  const w = starsC.getBoundingClientRect().width;
  const h = starsC.getBoundingClientRect().height;
  sctx.clearRect(0,0,w,h);
  for(const p of stars){
    p.a += p.tw*(Math.random()>0.5?1:-1);
    p.a = Math.max(0.08, Math.min(0.95, p.a));
    p.x += p.vx; p.y += p.vy;
    if(p.x<0) p.x=w; if(p.x>w) p.x=0;
    if(p.y<0) p.y=h; if(p.y>h) p.y=0;

    sctx.beginPath();
    sctx.globalAlpha = p.a;
    sctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    sctx.fillStyle = "#ffffff";
    sctx.fill();
  }
  sctx.globalAlpha = 1;
}

/* ====== Fireworks ====== */
const bursts = [];
function rand(min,max){ return Math.random()*(max-min)+min; }

function spawnFirework(x,y){
  const w = fxC.getBoundingClientRect().width;
  const h = fxC.getBoundingClientRect().height;

  // launch from bottom to target
  const startX = rand(w*0.1, w*0.9);
  const startY = h + 20;
  const targetX = x ?? rand(w*0.2, w*0.8);
  const targetY = y ?? rand(h*0.12, h*0.55);

  const hue = rand(180, 330);
  bursts.push({
    phase:'launch',
    x:startX, y:startY,
    tx:targetX, ty:targetY,
    vx:(targetX-startX)/rand(45,70),
    vy:(targetY-startY)/rand(45,70),
    hue,
    trail:[]
  });
}

function explode(x,y,hue){
  const count = Math.floor(rand(60, 95));
  const parts = [];
  for(let i=0;i<count;i++){
    const ang = rand(0, Math.PI*2);
    const spd = rand(1.2, 4.0);
    parts.push({
      x,y,
      vx: Math.cos(ang)*spd,
      vy: Math.sin(ang)*spd,
      life: rand(38, 70),
      age: 0,
      r: rand(1.0, 2.2),
      hue: hue + rand(-18, 18)
    });
  }
  bursts.push({ phase:'burst', parts });
}

function drawFireworks(){
  const w = fxC.getBoundingClientRect().width;
  const h = fxC.getBoundingClientRect().height;

  // fade slightly (nice trails)
  fctx.fillStyle = "rgba(0,0,0,0.18)";
  fctx.fillRect(0,0,w,h);

  for(let i=bursts.length-1; i>=0; i--){
    const b = bursts[i];
    if(b.phase === 'launch'){
      b.trail.push({x:b.x,y:b.y});
      if(b.trail.length>18) b.trail.shift();

      b.x += b.vx;
      b.y += b.vy;

      // draw trail
      fctx.lineWidth = 2;
      fctx.beginPath();
      for(let t=0;t<b.trail.length;t++){
        const pt = b.trail[t];
        if(t===0) fctx.moveTo(pt.x, pt.y);
        else fctx.lineTo(pt.x, pt.y);
      }
      fctx.strokeStyle = `hsla(${b.hue}, 90%, 70%, 0.55)`;
      fctx.stroke();

      // head
      fctx.beginPath();
      fctx.arc(b.x,b.y,2.6,0,Math.PI*2);
      fctx.fillStyle = `hsla(${b.hue}, 100%, 78%, 0.95)`;
      fctx.fill();

      const dx = b.x - b.tx;
      const dy = b.y - b.ty;
      if(dx*dx + dy*dy < 18*18){
        explode(b.x,b.y,b.hue);
        bursts.splice(i,1);
      }
    } else if(b.phase === 'burst'){
      let alive = 0;
      for(const p of b.parts){
        p.age++;
        if(p.age >= p.life) continue;
        alive++;

        // physics
        p.vy += 0.03;   // gravity
        p.vx *= 0.99;   // drag
        p.vy *= 0.99;
        p.x += p.vx;
        p.y += p.vy;

        const a = 1 - (p.age/p.life);
        fctx.globalAlpha = Math.max(0, a);
        fctx.beginPath();
        fctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        fctx.fillStyle = `hsla(${p.hue}, 95%, 70%, 1)`;
        fctx.fill();
      }
      fctx.globalAlpha = 1;
      if(alive === 0) bursts.splice(i,1);
    }
  }
}

/* ====== Loop ====== */
let t = 0;
function loop(){
  t++;
  drawStars();
  drawFireworks();

  // auto fireworks
  if(t % 38 === 0) spawnFirework();
  if(t % 120 === 0) spawnFirework();

  requestAnimationFrame(loop);
}

// start with a few
for(let i=0;i<4;i++) setTimeout(()=>spawnFirework(), i*280);
loop();

/* ====== InteracciÃ³n ====== */
function pointerFire(e){
  const w = fxC.getBoundingClientRect();
  const x = (e.touches ? e.touches[0].clientX : e.clientX) - w.left;
  const y = (e.touches ? e.touches[0].clientY : e.clientY) - w.top;
  spawnFirework(x,y);
}
window.addEventListener('click', pointerFire);
window.addEventListener('touchstart', pointerFire, {passive:true});
</script>
</body>
</html>
